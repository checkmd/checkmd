// Generated by CoffeeScript 1.6.2
(function() {
  define(['jquery', 'backbone_tastypie', 'collections/steps', 'models/step'], function($, Backbone, StepCollection, Step) {
    var ChecklistModel;

    return ChecklistModel = Backbone.Model.extend({
      schema: {
        name: 'Text',
        steps: {
          type: 'List',
          itemType: 'InlineNestedModel',
          model: Step
        }
      },
      url: function() {
        var url;

        url = "/api/v1/checklist/";
        if (this.get('_id')) {
          url += "" + (this.get('_id')) + "/";
        }
        return url;
      },
      parse: function(response) {
        var steps;

        steps = new StepCollection();
        steps.add(response.steps);
        this.set("steps", steps);
        return response;
      }
    });
  });

}).call(this);
